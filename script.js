const translations={ru:{'nav.home':'Главная','nav.about':'О нас','nav.services':'Услуги','nav.gallery':'Галерея','nav.master':'Мастер','nav.contact':'Запись','hero.title':'Профессиональный барбершоп','hero.subtitle':'Искусство стрижки и бритья в руках мастеров','hero.button':'Записаться онлайн','about.title':'Наша команда','about.subtitle':'Профессионалы своего дела','about.text1':'Наша команда опытных барберов с многолетним опытом работы готова создать для вас идеальный образ. Мы следим за последними тенденциями в мире мужских стрижек и всегда рады предложить индивидуальный подход к каждому клиенту.','about.text2':'В нашем салоне царит атмосфера настоящего мужского клуба, где вы можете расслабиться и довериться профессионалам.','services.title':'Наши услуги','services.service1.title':'Стрижка "под насадку"','services.service1.description':'Профессиональная стрижка машинкой с использованием различных насадок','services.service1.price':'300 руб.','services.service2.title':'Модельная стрижка','services.service2.description':'Создание стильного образа с учетом особенностей волос и формы лица','services.service2.price':'600 руб.','gallery.title':'Наши работы','gallery.image1.alt':'Работа мастера','gallery.image2.alt':'Процесс стрижки','master.title':'Искусство в деталях','master.subtitle':'Эталон мастерства и творческого подхода','master.description':'Наш мастер демонстрирует высший уровень профессионализма. Каждое движение отточено до совершенства, каждая деталь продумана. С бритвой и расческой в руках он создает не просто стрижку, а настоящее произведение искусства, подчеркивающее вашу индивидуальность и стиль.','contact.title':'Онлайн запись','contact.name':'Ваше имя','contact.phone':'Телефон','contact.service':'Услуга','contact.message':'Дополнительные пожелания','contact.selectDefault':'Выберите услугу','contact.option1':'Стрижка "под насадку" - 300 руб.','contact.option2':'Модельная стрижка - 600 руб.','contact.placeholder':'Ваши пожелания...','contact.button':'Отправить заявку','tools.title':'Профессиональные инструменты','tools.description':'Мы используем только лучшее оборудование и инструменты, чтобы гарантировать безупречный результат каждой стрижки и бритья','footer.copyright':'© 2024 BarberPro. Все права защищены.','modal.title':'Спасибо за запись!','modal.message':'Мы свяжемся с вами в ближайшее время для подтверждения записи.','modal.button':'Закрыть','alert.required':'Пожалуйста, заполните все обязательные поля','alert.success':'Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.','alert.error':'Произошла ошибка при отправке заявки. Пожалуйста, попробуйте еще раз или свяжитесь с нами по телефону.'},en:{'nav.home':'Home','nav.about':'About','nav.services':'Services','nav.gallery':'Gallery','nav.master':'Master','nav.contact':'Booking','hero.title':'Professional Barbershop','hero.subtitle':'The art of haircut and shave in the hands of masters','hero.button':'Book Online','about.title':'Our Team','about.subtitle':'Professionals in Their Field','about.text1':'Our team of experienced barbers with years of experience is ready to create the perfect look for you. We follow the latest trends in men\'s haircuts and are always happy to offer an individual approach to each client.','about.text2':'Our salon has the atmosphere of a real men\'s club where you can relax and trust the professionals.','services.title':'Our Services','services.service1.title':'Clipper Cut','services.service1.description':'Professional clipper haircut using various attachments','services.service1.price':'300 RUB','services.service2.title':'Style Cut','services.service2.description':'Creating a stylish look considering hair features and face shape','services.service2.price':'600 RUB','gallery.title':'Our Works','gallery.image1.alt':'Master\'s work','gallery.image2.alt':'Haircut process','master.title':'Art in Details','master.subtitle':'The standard of skill and creative approach','master.description':'Our master demonstrates the highest level of professionalism. Every movement is perfected to perfection, every detail is thought out. With a razor and comb in his hands, he creates not just a haircut, but a real work of art that emphasizes your individuality and style.','contact.title':'Online Booking','contact.name':'Your Name','contact.phone':'Phone','contact.service':'Service','contact.message':'Additional wishes','contact.selectDefault':'Choose service','contact.option1':'Clipper Cut - 300 RUB','contact.option2':'Style Cut - 600 RUB','contact.placeholder':'Your wishes...','contact.button':'Send Request','tools.title':'Professional Tools','tools.description':'We use only the best equipment and tools to guarantee flawless results for every haircut and shave','footer.copyright':'© 2024 BarberPro. All rights reserved.','modal.title':'Thank you for booking!','modal.message':'We will contact you shortly to confirm your appointment.','modal.button':'Close','alert.required':'Please fill in all required fields','alert.success':'Application successfully sent! We will contact you shortly.','alert.error':'An error occurred while sending the application. Please try again or contact us by phone.'}};class AppManager{constructor(){this.currentTheme=localStorage.getItem('theme')||'light';this.currentLanguage=localStorage.getItem('language')||'ru';this.init()}init(){this.applyTheme(this.currentTheme);this.applyLanguage(this.currentLanguage);this.setupEventListeners()}setupEventListeners(){document.getElementById('themeToggle').addEventListener('click',()=>{this.toggleTheme()});document.getElementById('languageToggle').addEventListener('click',()=>{this.toggleLanguage()});document.getElementById('closeModal').addEventListener('click',()=>{this.hideModal()});document.getElementById('successModal').addEventListener('click',(e)=>{if(e.target===e.currentTarget){this.hideModal()}})}toggleTheme(){this.currentTheme=this.currentTheme==='light'?'dark':'light';this.applyTheme(this.currentTheme);localStorage.setItem('theme',this.currentTheme)}applyTheme(theme){document.documentElement.setAttribute('data-theme',theme);const themeToggle=document.getElementById('themeToggle');const svg=themeToggle.querySelector('svg');if(theme==='dark'){svg.innerHTML='<path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"/><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"/><path d="M12,20c-0.6,0-1,0.4-1,1v2c0,0.6,0.4,1,1,1s1-0.4,1-1v-2C13,20.4,12.6,20,12,20z"/><path d="M4.9,5.5c-0.3,0-0.5-0.1-0.7-0.3L2.8,3.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C5.4,5.4,5.2,5.5,4.9,5.5z"/><path d="M19.1,18.5c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C19.6,18.4,19.4,18.5,19.1,18.5z"/><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"/><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"/><path d="M4.9,18.5c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C5.4,18.4,5.2,18.5,4.9,18.5z"/><path d="M19.1,5.5c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C19.6,5.4,19.4,5.5,19.1,5.5z"/>'}else{svg.innerHTML='<path d="M12,11.8c-2,0-3.7-1.7-3.7-3.7s1.7-3.7,3.7-3.7s3.7,1.7,3.7,3.7S14,11.8,12,11.8z M12,5.4c-1.5,0-2.7,1.2-2.7,2.7s1.2,2.7,2.7,2.7s2.7-1.2,2.7-2.7S13.5,5.4,12,5.4z"/><path d="M12,15.8c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,15.4,12.6,15.8,12,15.8z"/><path d="M12,3.8c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v1.8C13,3.4,12.6,3.8,12,3.8z"/><path d="M12,23c-0.6,0-1-0.4-1-1v-1.8c0-0.6,0.4-1,1-1s1,0.4,1,1V22C13,22.6,12.6,23,12,23z"/><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.1,6.5,5.9,6.6,5.6,6.6z"/><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20.1,20.8,19.8,20.8z"/><path d="M3,13H1.2c-0.6,0-1-0.4-1-1s0.4-1,1-1H3c0.6,0,1,0.4,1,1S3.6,13,3,13z"/><path d="M22.8,13H21c-0.6,0-1-0.4-1-1s0.4-1,1-1h1.8c0.6,0,1,0.4,1,1S23.4,13,22.8,13z"/><path d="M5.6,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C6.1,20.7,5.9,20.8,5.6,20.8z"/><path d="M19.8,6.6c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,6.5,20.1,6.6,19.8,6.6z"/>'}}toggleLanguage(){this.currentLanguage=this.currentLanguage==='ru'?'en':'ru';this.applyLanguage(this.currentLanguage);localStorage.setItem('language',this.currentLanguage);document.getElementById('languageToggle').textContent=this.currentLanguage==='ru'?'EN':'RU'}applyLanguage(language){const elements=document.querySelectorAll('[data-i18n]');elements.forEach(element=>{const key=element.getAttribute('data-i18n');if(translations[language]&&translations[language][key]){if(element.tagName==='INPUT'||element.tagName==='TEXTAREA'){element.setAttribute('placeholder',translations[language][key])}else if(element.tagName==='OPTION'){element.textContent=translations[language][key]}else{element.textContent=translations[language][key]}}})}showModal(){document.getElementById('successModal').classList.add('active');document.body.style.overflow='hidden'}hideModal(){document.getElementById('successModal').classList.remove('active');document.body.style.overflow='auto'}getTranslation(key){return translations[this.currentLanguage][key]||key}}const app=new AppManager();document.getElementById('telegram-form').addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(this);const name=formData.get('name');const phone=formData.get('phone');const service=formData.get('service');const message=formData.get('message')||app.getTranslation('contact.placeholder');if(!name||!phone||!service){alert(app.getTranslation('alert.required'));return}const submitBtn=this.querySelector('button[type="submit"]');const originalText=submitBtn.textContent;submitBtn.textContent=app.getTranslation('contact.button')+'...';submitBtn.disabled=true;fetch('https://barber-shop-self-rho.vercel.app/api/telegram',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,phone:phone,service:service,message:message})}).then(response=>{if(!response.ok){throw new Error('Network response was not ok')}return response.json()}).then(data=>{if(data.status==='success'){app.showModal();document.getElementById('telegram-form').reset();if(typeof gtag!=='undefined'){gtag('event','form_submission',{'event_category':'lead','event_label':'telegram_form'})}}else{throw new Error('Server response error')}}).catch(error=>{console.error('Error:',error);alert(app.getTranslation('alert.error'))}).finally(()=>{submitBtn.textContent=originalText;submitBtn.disabled=false})});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if(target){target.scrollIntoView({behavior:'smooth',block:'start'})}})});window.addEventListener('scroll',function(){const header=document.querySelector('header');if(window.scrollY>100){header.style.background='rgba(26,26,26,0.95)';header.style.backdropFilter='blur(10px)'}else{header.style.background='var(--header-bg)';header.style.backdropFilter='none'}});document.addEventListener('DOMContentLoaded',function(){const images=document.querySelectorAll('img');images.forEach(img=>{img.addEventListener('load',function(){this.style.opacity='1'});if(!img.complete){img.style.opacity='0';img.style.transition='opacity 0.3s ease-in-out'}});document.getElementById('languageToggle').textContent=app.currentLanguage==='ru'?'EN':'RU'});document.addEventListener('keydown',function(e){if(e.key==='Escape'){app.hideModal()}});
